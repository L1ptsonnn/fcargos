# Навігація по проєкту FCargos

Документ описує всі ключові файли та «що за що відповідає», щоб легше було презентувати застосунок.

## 1. Структура директорій

| Шлях | Що містить / для чого |
| --- | --- |
| `manage.py` | Точка входу для Django-команд. Запускає сервер, міграції, shell. |
| `config/` | Глобальні налаштування й маршрути проєкту: `settings.py`, `urls.py`, `wsgi.py`, `asgi.py`. |
| `accounts/` | Реєстрація/логін, користувачі, профілі компаній і перевізників. Моделі, форми, view-функції, власні URL. |
| `logistics/` | Увесь функціонал маршрутів, ставок, повідомлень, відстеження, рейтингу. |
| `dashboard/` | Домашня сторінка, статистика, історія дій. |
| `templates/` | HTML-шаблони для всіх сторінок (базовий layout + підкаталоги apps). |
| `static/` | Ручні стилі, JavaScript, зображення, які підключаємо під час розробки. |
| `staticfiles/` | Результат `collectstatic` (не змінюємо вручну, але потрібен для деплою/прев’ю). |
| `media/` | Завантажені користувачами файли (логотипи, аватари). |
| `requirements.txt` | Перелік Python-залежностей. |
| `.env` | Активні змінні середовища для підключення до PostgreSQL та інших сервісів. |
| `README.md` | Інструкція з деплою і використання. |

## 2. Конфігурація (`config/`)

- `settings.py` — головний файл налаштувань. Тут:
  - `INSTALLED_APPS` підключає всі наші застосунки.
  - `DATABASES` налаштований на PostgreSQL (беремо креденшіали з `.env`).
  - `STATIC_*`, `MEDIA_*` вказують шлях до статичних/медійних файлів.
  - `AUTH_USER_MODEL = 'accounts.User'` повідомляє Django, що використовуємо кастомну модель користувача.
- `urls.py` — централізована таблиця роутів. Підключає URL із `accounts`, `logistics`, `dashboard`.
- `wsgi.py` / `asgi.py` — точки входу для серверів (Gunicorn/Uvicorn).

## 3. Користувачі (`accounts/`)

- `models.py`
  - `User` розширює `AbstractUser`, додає поле `role` (`company` або `carrier`) і теги для компанії.
  - `CompanyProfile`, `CarrierProfile` зберігають деталі (адреси, транспорт, рейтинг).
- `forms.py`
  - Форми реєстрації та редагування профілів (carrier/company), валідація кастомних полів.
- `views.py`
  - `register_company`, `register_carrier`, `profile` та інші view, що віддають відповідні шаблони та форми.
- `templates/accounts/`
  - `register_company.html`, `register_carrier.html`, `profile.html` тощо — розмітка для UI.
- `urls.py`
  - Шляхи `/accounts/register/`, `/accounts/login/`, `/accounts/profile/`.
- `admin.py`, `tests.py`
  - Налаштування модерації у Django Admin та покриття тестами.

## 4. Логістика (`logistics/`)

- `models.py`
  - `Route` — основна сутність для перевезень.
  - `Bid`, `Tracking`, `Message`, `Notification`, `Rating` описують ставки, чат, прогрес, сповіщення та оцінки.
- `forms.py`
  - Форми створення маршрутів, ставок, оновлення трекінгу.
- `views.py`
  - Обробка HTMX-запитів для створення маршрутів/ставок без перезавантаження.
  - Сторінки: список маршрутів, деталі маршруту, трекінг, чат.
- `templates/logistics/`
  - Відповідні HTML-шаблони (частина з `_partial` для HTMX).
- `urls.py`
  - Шляхи `/routes/`, `/routes/<id>/`, `/tracking/`, `/bids/`, `/messages/`.

## 5. Дашборд (`dashboard/`)

- `views.py`
  - `home`, `statistics`, `history` — формують дані для головної сторінки, графіків, історії.
- `templates/dashboard/`
  - `home.html`, `statistics.html`, `history.html` + `_partial` версії для AJAX/HTMX.

## 6. Шаблони та стилі

- `templates/base.html` — базовий layout із підключенням Bootstrap, статики, навігації.
- `templates/accounts/*`, `templates/logistics/*`, `templates/dashboard/*` — конкретні сторінки.
- `static/css/style.css`, `static/js/main.js` — власні стилі та поведінка (анімовані фони, кнопки, мапа).
- `staticfiles/` — автоматично згенерована копія (не редагуємо, але важливо знати що там лежить для презентації).

## 7. Дані та середовище

- `.env`
  - `POSTGRES_DB`, `POSTGRES_USER`, `POSTGRES_PASSWORD`, `POSTGRES_HOST`, `POSTGRES_PORT`.
  - Можеш додавати інші змінні (наприклад, `SECRET_KEY`, `EMAIL_HOST`), якщо потрібно описати додаткові сервіси.
- PostgreSQL замінив SQLite, тому всі міграції (`python manage.py migrate`) працюють напряму з віддаленою базою (наприклад, Railway).

## 8. Що казати на презентації

1. **Почати з архітектури** — показати структуру директорій із таблиці вище.
2. **Пояснити базу даних** — кастомний `User`, окремі профілі, логістичні сутності, PostgreSQL.
3. **Показати потік користувача**:
   - Реєстрація компанії / перевізника (`accounts/views.py` + відповідні шаблони).
   - Створення маршруту (`logistics/views.py`, HTMX частини).
   - Ставки, чат, трекінг, рейтинг.
4. **Підкреслити дизайн** — базовий шаблон, анімації у `static/css`, інтерактивність у `static/js`.
5. **DevOps** — `.env`, Railway/PostgreSQL, `collectstatic`, деплой.

Цей документ можна тримати під рукою під час виступу: у кожному розділі є прямі посилання на файли й те, що вони роблять.

